# 删除学科分类兼容模式功能需求文档

## 介绍

本功能旨在从音频管理界面中删除"学科分类（兼容模式）"功能，简化管理界面，统一使用新的分类层级选择器。该兼容模式功能是在系统升级过程中的临时解决方案，现在需要完全移除以保持界面的简洁性和一致性。

## 需求

### 需求 1：移除兼容模式表单字段

**用户故事：** 作为管理员，我希望音频管理界面只显示新的分类层级选择器，不再显示旧的兼容模式选择器，以便界面更加简洁统一。

#### 验收标准

1. WHEN 我访问音频管理页面时 THEN 系统 SHALL 不显示"学科分类（兼容模式）"字段
2. WHEN 我创建新音频时 THEN 系统 SHALL 只提供层级分类选择器
3. WHEN 我编辑现有音频时 THEN 系统 SHALL 只显示层级分类选择器
4. WHEN 我查看音频上传表单时 THEN 系统 SHALL 不包含任何兼容模式相关的UI元素

### 需求 2：清理相关代码和注释

**用户故事：** 作为开发者，我希望代码中不再包含兼容模式相关的逻辑和注释，以便代码更加清晰易维护。

#### 验收标准

1. WHEN 我查看音频管理页面代码时 THEN 系统 SHALL 不包含"兼容模式"相关的表单字段定义
2. WHEN 我查看表单提交逻辑时 THEN 系统 SHALL 不包含处理兼容模式字段的代码
3. WHEN 我查看相关组件时 THEN 系统 SHALL 不包含兼容模式相关的提示文本和工具提示
4. WHEN 我查看代码注释时 THEN 系统 SHALL 不包含提及兼容模式的注释内容

### 需求 3：保持现有功能完整性

**用户故事：** 作为管理员，我希望删除兼容模式后，现有的音频管理功能仍然正常工作，不影响音频的创建、编辑和分类管理。

#### 验收标准

1. WHEN 我创建新音频时 THEN 系统 SHALL 正常保存分类信息到数据库
2. WHEN 我编辑现有音频时 THEN 系统 SHALL 正确显示和更新分类信息
3. WHEN 我使用分类层级选择器时 THEN 系统 SHALL 正常工作且数据保存正确
4. WHEN 我查看音频列表时 THEN 系统 SHALL 正确显示每个音频的分类信息
5. IF 现有音频有旧的subject字段数据 THEN 系统 SHALL 继续正确显示和处理这些数据

### 需求 4：确保数据兼容性

**用户故事：** 作为系统管理员，我希望删除兼容模式UI后，现有的音频数据仍然能够正确显示和管理，不会丢失任何分类信息。

#### 验收标准

1. WHEN 系统处理现有音频数据时 THEN 系统 SHALL 继续支持读取旧的subject字段
2. WHEN 显示音频分类信息时 THEN 系统 SHALL 正确映射旧字段到新的分类显示
3. WHEN 编辑包含旧分类数据的音频时 THEN 系统 SHALL 正确在新选择器中显示对应分类
4. WHEN 保存音频时 THEN 系统 SHALL 使用新的分类字段格式存储数据
5. IF 音频同时有新旧分类字段 THEN 系统 SHALL 优先使用新的分类字段

### 需求 5：更新相关文档和提示

**用户故事：** 作为用户，我希望界面上的提示信息和帮助文档反映最新的功能状态，不再提及已删除的兼容模式。

#### 验收标准

1. WHEN 我查看音频管理页面的帮助信息时 THEN 系统 SHALL 不包含兼容模式相关的说明
2. WHEN 我查看表单字段的工具提示时 THEN 系统 SHALL 只显示当前功能的说明
3. WHEN 我查看错误消息时 THEN 系统 SHALL 不包含兼容模式相关的错误提示
4. WHEN 我查看用户指南时 THEN 系统 SHALL 只包含当前支持的分类选择方式

### 需求 6：测试现有功能

**用户故事：** 作为质量保证人员，我希望能够验证删除兼容模式后所有相关功能仍然正常工作。

#### 验收标准

1. WHEN 我测试音频创建流程时 THEN 系统 SHALL 成功创建音频并正确保存分类
2. WHEN 我测试音频编辑流程时 THEN 系统 SHALL 成功更新音频分类信息
3. WHEN 我测试分类选择器时 THEN 系统 SHALL 正确显示可用分类并支持选择
4. WHEN 我测试数据验证时 THEN 系统 SHALL 正确验证分类字段的必填性
5. WHEN 我测试现有音频的显示时 THEN 系统 SHALL 正确显示所有音频的分类信息