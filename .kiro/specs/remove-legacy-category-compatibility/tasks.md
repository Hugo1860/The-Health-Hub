# 实施计划

- [ ] 1. 移除音频管理页面中的兼容模式UI组件
  - 从 `src/app/admin/audio/page.tsx` 中删除"学科分类（兼容模式）"表单字段
  - 移除相关的工具提示和说明文本
  - 清理相关的导入和变量定义
  - _需求: 1.1, 1.2, 1.3, 1.4_

- [ ] 2. 简化表单数据处理逻辑
  - 修改表单提交逻辑，移除对 `subject` 字段的处理
  - 更新表单验证规则，只验证新的分类字段
  - 简化数据序列化逻辑
  - _需求: 2.1, 2.2, 3.1_

- [ ] 3. 更新音频编辑时的数据回填逻辑
  - 修改编辑音频时的数据加载逻辑
  - 实现旧分类数据到新选择器的映射
  - 确保编辑现有音频时分类信息正确显示
  - _需求: 3.2, 3.3, 4.3_

- [ ] 4. 清理代码中的兼容模式相关注释和文档
  - 移除代码中提及兼容模式的注释
  - 更新相关的JSDoc文档
  - 清理不再使用的类型定义
  - _需求: 2.3, 2.4, 5.2_

- [ ] 5. 更新表单字段类型定义
  - 修改 `AudioFormData` 接口，移除 `subject` 字段
  - 更新相关的TypeScript类型定义
  - 确保类型安全性
  - _需求: 2.1, 2.2_

- [ ] 6. 实现数据兼容性处理函数
  - 创建旧分类数据映射到新字段的辅助函数
  - 实现数据显示时的优先级处理逻辑
  - 添加错误处理和回退机制
  - _需求: 4.1, 4.2, 4.4_

- [ ] 7. 更新表单验证逻辑
  - 移除对兼容模式字段的验证
  - 确保分类选择器的必填验证正常工作
  - 更新错误消息，移除兼容模式相关提示
  - _需求: 3.4, 5.3_

- [ ] 8. 测试新音频创建功能
  - 编写测试用例验证音频创建流程
  - 测试分类选择器的正常工作
  - 验证数据正确保存到数据库
  - _需求: 6.1, 3.1_

- [ ] 9. 测试现有音频编辑功能
  - 测试编辑只有旧分类字段的音频
  - 测试编辑只有新分类字段的音频
  - 测试编辑同时有新旧字段的音频
  - _需求: 6.2, 4.5, 3.2_

- [ ] 10. 验证数据兼容性处理
  - 测试旧数据的正确显示
  - 验证数据映射逻辑的准确性
  - 确保不会丢失任何分类信息
  - _需求: 4.1, 4.2, 4.3_

- [ ] 11. 更新用户界面提示和帮助文本
  - 移除界面上兼容模式相关的说明
  - 更新工具提示只显示当前功能
  - 确保用户指导信息的准确性
  - _需求: 5.1, 5.2, 5.4_

- [ ] 12. 执行完整的功能测试
  - 测试音频管理的完整工作流程
  - 验证分类选择和保存功能
  - 确保界面简洁性和易用性
  - _需求: 6.1, 6.2, 6.3, 6.4, 6.5_