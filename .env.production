# 健康中心云端部署环境配置模板
# 复制此文件为 .env.cloud 并修改相应配置

# =============================================================================
# 数据库配置
# =============================================================================

# 数据库类型：mysql 或 postgresql
DATABASE_TYPE=mysql

# MySQL 配置（如果使用 MySQL）
DB_HOST=your-mysql-host.cloud.com
DB_PORT=3306
DB_DATABASE=health_hub
DB_USERNAME=your-db-username
DB_PASSWORD=your-secure-db-password

# PostgreSQL 配置（如果使用 PostgreSQL）
# DB_HOST=your-postgresql-host.cloud.com
# DB_PORT=5432
# DB_DATABASE=health_hub
# DB_USERNAME=your-db-username
# DB_PASSWORD=your-secure-db-password

# =============================================================================
# NextAuth.js 配置
# =============================================================================

# NextAuth 密钥（请使用强随机字符串）
NEXTAUTH_SECRET=your-nextauth-secret-key-minimum-32-characters-here
NEXTAUTH_URL=https://your-domain.com

# 会话配置
SESSION_SECRET=your-session-secret-key-minimum-32-characters-here

# JWT 配置
JWT_SECRET=your-jwt-secret-key-minimum-32-characters-here

# CSRF 保护
CSRF_SECRET=your-csrf-secret-key-minimum-32-characters-here

# =============================================================================
# 应用配置
# =============================================================================

# 应用环境
NODE_ENV=production

# 应用端口（Docker 内部端口，通常为 3000）
PORT=3000

# 外部访问端口（如果使用反向代理）
# PUBLIC_PORT=80

# =============================================================================
# 文件上传配置
# =============================================================================

# 文件上传限制（字节）
MAX_FILE_SIZE=104857600  # 100MB

# 允许的文件类型
ALLOWED_FILE_TYPES=audio/wav,audio/mpeg,audio/mp3,audio/mp4,audio/m4a,image/jpeg,image/jpg,image/png,image/gif

# 上传文件存储路径
UPLOAD_PATH=/app/uploads

# =============================================================================
# 监控配置
# =============================================================================

# 监控启用
ENABLE_MONITORING=true

# 监控数据保留天数
MONITORING_RETENTION_DAYS=30

# 告警邮件配置（如果需要邮件告警）
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# ALERT_EMAIL_FROM=your-email@gmail.com
# ALERT_EMAIL_TO=admin@your-domain.com

# =============================================================================
# 安全配置
# =============================================================================

# CORS 允许的域名（生产环境请设置具体域名）
CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com

# 速率限制
RATE_LIMIT_WINDOW_MS=900000  # 15分钟
RATE_LIMIT_MAX_REQUESTS=100  # 每个窗口最大请求数

# 管理员会话超时（分钟）
ADMIN_SESSION_TIMEOUT=480  # 8小时

# =============================================================================
# 日志配置
# =============================================================================

# 日志级别：error, warn, info, debug
LOG_LEVEL=info

# 日志文件路径
LOG_FILE_PATH=/app/logs/app.log

# 错误日志文件路径
ERROR_LOG_FILE_PATH=/app/logs/errors.log

# 安全日志文件路径
SECURITY_LOG_FILE_PATH=/app/logs/security.log

# =============================================================================
# 性能优化配置
# =============================================================================

# 数据库连接池大小
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE=30000  # 30秒
DB_POOL_ACQUIRE=60000  # 60秒
DB_POOL_TIMEOUT=2000  # 2秒

# 缓存配置
CACHE_TTL=3600000  # 1小时 (毫秒)
CACHE_MAX_SIZE=1000  # 最大缓存条目数

# 压缩配置
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=6

# =============================================================================
# 功能开关
# =============================================================================

# 启用用户注册
ENABLE_USER_REGISTRATION=true

# 启用社交登录
ENABLE_SOCIAL_LOGIN=false

# 启用邮件验证
ENABLE_EMAIL_VERIFICATION=false

# 启用手机验证
ENABLE_PHONE_VERIFICATION=false

# 启用双因素认证
ENABLE_2FA=false

# 启用API文档
ENABLE_API_DOCS=true

# 启用健康检查端点
ENABLE_HEALTH_CHECK=true

# =============================================================================
# 区域和本地化配置
# =============================================================================

# 默认时区
DEFAULT_TIMEZONE=Asia/Shanghai

# 默认语言
DEFAULT_LANGUAGE=zh-CN

# 支持的语言列表
SUPPORTED_LANGUAGES=zh-CN,en-US

# =============================================================================
# 重要提醒
# =============================================================================
# 1. 部署前请修改所有密码和密钥
# 2. 使用强密码和随机密钥
# 3. 生产环境请关闭调试模式
# 4. 配置适当的备份策略
# 5. 设置监控和告警机制
# 6. 定期更新和安全审计

# 生成随机密钥的命令：
# openssl rand -base64 32
# openssl rand -hex 32
